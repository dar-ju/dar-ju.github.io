import{d as M,u as P,r as S,a as q,o as G,b as H,c as _,e as o,f as A,w as D,g as U,h as J,n as E,i as K,t as n,j as r,F as Q,k as W,l as d}from"./index-DqQVnRB-.js";const X={class:"section country"},Y={class:"container country__container"},Z={class:"country__wrapper"},tt=["srcset"],ot=["src","alt"],st={class:"country__block"},et={class:"country__title"},nt={class:"country__list-block"},rt={class:"country__list"},at={class:"country__item"},lt={class:"country__item"},it={class:"country__item"},ut={class:"country__item"},ct={class:"country__item"},_t={class:"country__list"},dt={class:"country__item"},mt={class:"country__item"},pt={class:"country__item"},yt={key:0,class:"country__item country__border-block"},vt={class:"country__border-list"},wt=M({__name:"CountryView",setup(gt){const u=P(),e=S(void 0),c=S(!0),p=q(),O=p.params.region,T=p.params.country;G(async()=>{u.countries.length===0&&await u.getCountries(),e.value=u.countries.find(s=>s.name.toLowerCase()===y(T).toLowerCase())}),H(async(s,t,i)=>{e.value=u.countries.find(a=>a.name.toLowerCase()===y(s.params.country).toLowerCase()),i()});const z=s=>s?new Intl.NumberFormat("en-US").format(s):"",y=s=>s.replace(/-/g," "),m=(s,t)=>{if(Array.isArray(s))return Array.isArray(s)&&s.some(a=>typeof a=="object"&&a!==null)?s.map(a=>a[t]).join(", "):s.join()},v=s=>s.toLowerCase().replace(/\s+/g,"-"),g=s=>{const t=u.countries.find(i=>i.alpha3Code===s);return t?t.name:"unknown"};return(s,t)=>{var a,f,w,b,C,k,h,L,x,B,N,F,j,V,$,R;const i=J("router-link");return d(),_("main",X,[o("div",Y,[A(i,{to:`/${v(U(u).currentRegion)}`,class:"field country__back-btn","aria-label":"Back to region"},{default:D(()=>t[2]||(t[2]=[o("svg",{viewBox:"0 0 16 9",width:"17px",height:"11px",xmlns:"http://www.w3.org/2000/svg"},[o("polygon",{points:"15.699,3.854 1.914,3.854 5.061,0.707 4.354,0 0,4.354 4.354,8.707 5.061,8 1.914,4.854 15.699,4.854 "})],-1),r(" Back ")])),_:1},8,["to"]),o("div",Z,[o("picture",{class:E(["field country__img-wrapper",{loading:c.value}])},[o("source",{media:"(max-width: 576px)",srcset:(a=e.value)==null?void 0:a.flags.png},null,8,tt),o("img",{class:E(["country__img",{loaded:!c.value}]),src:(f=e.value)==null?void 0:f.flags.svg,alt:`Flag of ${(w=e.value)==null?void 0:w.name}`,onLoad:t[0]||(t[0]=l=>c.value=!1),onError:t[1]||(t[1]=l=>c.value=!1),width:"562",height:"400"},null,42,ot)],2),o("div",st,[o("h2",et,n((b=e.value)==null?void 0:b.name),1),o("div",nt,[o("ul",rt,[o("li",at,[t[3]||(t[3]=o("span",null,"Native Name: ",-1)),r(" "+n((C=e.value)==null?void 0:C.nativeName),1)]),o("li",lt,[t[4]||(t[4]=o("span",null,"Population: ",-1)),r(" "+n(z(((k=e.value)==null?void 0:k.population)??0)),1)]),o("li",it,[t[5]||(t[5]=o("span",null,"Region: ",-1)),r(" "+n((h=e.value)==null?void 0:h.region),1)]),o("li",ut,[t[6]||(t[6]=o("span",null,"Sub Region: ",-1)),r(" "+n((L=e.value)==null?void 0:L.subregion),1)]),o("li",ct,[t[7]||(t[7]=o("span",null,"Capital: ",-1)),r(" "+n((x=e.value)==null?void 0:x.capital),1)])]),o("ul",_t,[o("li",dt,[t[8]||(t[8]=o("span",null,"Top Level Domain: ",-1)),r(" "+n(m(((B=e.value)==null?void 0:B.topLevelDomain)??[])),1)]),o("li",mt,[t[9]||(t[9]=o("span",null,"Currencies: ",-1)),r(" "+n(m(((F=(N=e.value)==null?void 0:N.currencies)==null?void 0:F.map(l=>l.name))??[])),1)]),o("li",pt,[t[10]||(t[10]=o("span",null,"Languages: ",-1)),r(" "+n(m(((V=(j=e.value)==null?void 0:j.languages)==null?void 0:V.map(l=>l.name))??[])),1)])])]),($=e.value)!=null&&$.borders?(d(),_("div",yt,[t[11]||(t[11]=o("span",null,"Border Countries:",-1)),o("ul",vt,[(d(!0),_(Q,null,W((R=e.value)==null?void 0:R.borders,(l,I)=>(d(),_("li",{key:I,class:"field country__border-item"},[A(i,{to:`/${U(O)}/${v(g(l))}`},{default:D(()=>[r(n(g(l)),1)]),_:2},1032,["to"])]))),128))])])):K("",!0)])])])])}}});export{wt as default};
